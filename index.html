<!DOCTYPE html>
<html>
  <head>
    <title>rest.js example</title>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8"/> 
    <script type="text/javascript" src="rest.js"></script>
    <!-- <script type="text/javascript" src="http://twitter.com/status/user_timeline/ippalix.json?count=5&callback=restjs.parseJSONP"></script> -->
  </head>

  <body onload="start()"> </body>

  <script>
    var body = document.getElementsByTagName("body")[0]
  
    function showAs(title) {
      return function(data) {
        body.innerHTML += "<h2>" + title + "</h2>"
        body.innerHTML += data
      }
    }

    function start() {
      restjs.useJSONP()
      restjs.get("http://twitter.com/status/user_timeline/ippalix.json?count=10", function(data) {
        body.innerHTML += "<h2>10 latest tweets from ippalix</h2>"
        data.forEach( function(tweet) {
          body.innerHTML += "- " + tweet.text + "<br />"
        });
      });

      restjs.useJSON().get("http://ippa.se/restjs/rest.js", showAs("rest.js source") )
    }
  </script>
</html>
